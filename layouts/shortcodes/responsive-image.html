
{{if not (.Get "src")}}
{{ errorf "Specify src=... in shortcode" }}
{{end}}

{{ $classes := "post-standard-image"}}
{{if (.Get "classes")}}
{{ $classes = (.Get "classes")}}
{{end}}

{{ $resource := .Page.Resources.GetMatch (printf "**%s*" (.Get "src")) }}
{{ if not $resource }}
{{ errorf (printf "Image not found: %s" (.Get "src")) }}
{{ end }}

{{ partial "responsive-image" (dict "resource" $resource "classes" $classes)}}